<div #board class="board" (click)="addNode($event)">
  <polo-board-flows [connections]="joins"></polo-board-flows>
  <ng-container *ngIf="tree">
    <polo-node
      *ngFor="let node of tree.nodes"
      #node
      cdkDrag
      id="{{ node.id }}"
      (mouseenter)="mouseEnter($event)"
      (mouseleave)="mouseLeave($event)"
      (onWillJoin)="willJoin($event)"
      (haveJoined)="haveJoined($event)"
      (removeNode)="removeNode($event)"
      [waitingForJoin]="waitingForJoin"
      (cdkDragStarted)="dragStarted($event)"
      (cdkDragReleased)="dragReleased($event)"
      (cdkDragMoved)="dragCheck()"
      [style.transform]="
        'translate3d(' + node.left + 'px, ' + node.top + 'px, 0px)'
      "
      [text]="node.text"
      [answers]="node.answers"
    >
      <dragHandle cdkDragHandle>
        <p>{{ node.id }}</p>
      </dragHandle>
    </polo-node>
  </ng-container>
</div>
